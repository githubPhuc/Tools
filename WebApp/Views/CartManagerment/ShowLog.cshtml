
@{
    var logData = ViewBag.logData as List<ToolsApp.Models.LogHistoryViewModel>;

}
<div>

    <div class="row">
        <div class="col-lg-12">
            <ul id="logDataContainer" style="height: 450px ; overflow-y: auto;" class="list-group">
                @foreach (var item in logData)
                {
                    <li class="list-group-item"><i>@item.ipUserHostAddress</i>: <span>@item.hoVaTen</span> <span class="bg-info">@item.tenTaiKhoan</span> <strong>@item.moTa</strong>  vào lúc <i>@item.ngayTao</i></li>
                }

            </ul>
        </div>
    </div>
</div>
<script>
        $(function () {
            $("#datepicker").datepicker({
                autoclose: true,
                todayHighlight: true,
                todayBtn : "linked",
            }).datepicker('update', new Date());
        });
    @*function formatDate(dateString) {
        var date = new Date(parseInt(dateString.replace(/\/Date\((\d+)\)\//, '$1')));
        var day = date.getDate().toString().padStart(2, '0');
        var month = (date.getMonth() + 1).toString().padStart(2, '0');
        var year = date.getFullYear();
        var hours = date.getHours().toString().padStart(2, '0');
        var minutes = date.getMinutes().toString().padStart(2, '0');
        var seconds = date.getSeconds().toString().padStart(2, '0');
        return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;
    }
        $(document).ready(function () {
        $('#datepicker').datepicker({
            format: 'dd-mm-yyyy'
        }).on('changeDate', function (e) {
            var selectedDate = $('#selectedDate').val();
            var id = '@ViewData["id"]';

            $.ajax({
                url: '@Url.Action("ChangeDateShowLog")',
                type: 'GET',
                data: { id: id, date: selectedDate },
                success: function (response) {
                    var logData = response.data;
                    var html = "";

                    logData.forEach(function (log) {
                        html += `<li class="list-group-item"><i>${log.ipUserHostAddress}</i> <span>${log.hoVaTen}</span> <span class="bg-info">${log.tenTaiKhoan}</span> <strong>${log.moTa}</strong>  vào lúc <i>${formatDate(log.ngayTao)}</i></li>`;
                    });

                    $('#logDataContainer').html(html);
                },
                error: function () {
                    alert("Đã xảy ra lỗi khi tải dữ liệu log.");
                }
            });
        });*@
</script>